【多様な自動依存関係注入法】

※各々の注入方法の適用後、AutoConfigTest :: basicScan()を実行し、正常に依存関係が注入されたか確認しょう

・コンストラクタ注入 : 不変・悲痛の依存関係注入時有用。
→ オブジェクト生成時、コンストラクタが一回しか呼び出されない特性を利用。
※ 自動スキャン時、コンストラクタが一つの場合は@Autowired省略可能
→ コンストラクタが二つ以上の場合、オブジェクト生成の時どのコンストラクタを使えば良いか判断できないが
コンストラクタが一つの場合はオブジェクト生成時、どのコンストラクタを使って依存関係注入をすれば良いか判定できる。


・settterによる注入
→選択的に依存関係注入したい場合(依存関係注入が必須ではなくて依存関係の実体クラスがSpring Containerにも登録されてない可能がある場合)または
変更可能性のある依存関系であって、外部からsetterを使って途中で依存関係を変更したい場合に有用(ほとんど、こんなケースはない)
→コンストラクタ注入とは違い@AutoWired省略不可
→Spring Containerのライフサイクルは下記の通りである
１．Bean 登録
２．依存関係注入
setterによる依存関係注入は２段階で起きる。
しかし、コンストラクタ注入は少し違う。オブジェクト生成時は必ずコンストラクタが必要だ。
なのでBean登録と”同時に”依存関係注入も起きる。(依存する実体クラスがSpring Containerにまだ登録されてない場合の動作はSpring Containerのコードの詳細が分からないので説明を省略する)


・filed注入
→　絶対使用禁止
何故ならテスト時、Spring フレームワークなしでは依存関係の変更が不可。
例えば、テスト時Mockオブジェクト "new ~~" を使ってテストをしなければならないケースがある(実際の決済APIを走らせてはならないので外部からMockオブジェクトを注入して偽の決済APIを走らせなければならないケース)
しかし"new ~~"を使って外部からの依存関係注入が不可なため、Mockオブジェクトによるテストが不可能。
filed注入ではSpringフレームワークによって繋がった依存関係でしかテストが出来なく、純粋なJAVAコードによるテストは不可能。


・メソッドによる注入
→　@Autowiredさえ付いていれば、どんなメソッドでも依存関係注入可能。
だが、あんまり使われない。だから”あ！こういうやり方もあるんだ”って位で留めておこう



